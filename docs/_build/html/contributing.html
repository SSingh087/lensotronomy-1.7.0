
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Contributing to lenstronomy &#8212; lenstronomy 1.7.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mailing list" href="mailinglist.html" />
    <link rel="prev" title="lenstronomy.Workflow package" href="lenstronomy.Workflow.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mailinglist.html" title="Mailing list"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.Workflow.html" title="lenstronomy.Workflow package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.7.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="contributing-to-lenstronomy">
<h1>Contributing to lenstronomy<a class="headerlink" href="#contributing-to-lenstronomy" title="Permalink to this headline">¶</a></h1>
<div class="section" id="github-workflow">
<h2>GitHub Workflow<a class="headerlink" href="#github-workflow" title="Permalink to this headline">¶</a></h2>
<p>### Fork and Clone the lenstronomy Repository
<strong>You should only need to do this step once</strong></p>
<p>First <em>fork</em> the lenstronomy repository. A fork is your own remote copy of the repository on GitHub. To create a fork:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Go to the [lenstronomy GitHub Repository](<a class="reference external" href="https://github.com/sibirrer/lenstronomy">https://github.com/sibirrer/lenstronomy</a>)</li>
<li>Click the <strong>Fork</strong> button (in the top-right-hand corner)</li>
<li>Choose where to create the fork, typically your personal GitHub account</li>
</ol>
</div></blockquote>
<p>Next <em>clone</em> your fork. Cloning creates a local copy of the repository on your computer to work with. To clone your fork:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/&lt;your-account&gt;/lenstronomy.git</span>
<span class="pre">`</span></code></div></blockquote>
<p>Finally add the <cite>lenstronomy</cite> repository as a <em>remote</em>. This will allow you to fetch changes made to the codebase. To add the <cite>skypyproject</cite> remote:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">cd</span> <span class="pre">lenstronomy</span>
<span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">lenstronomyproject</span> <span class="pre">https://github.com/sibirrer/lenstronomy.git</span>
<span class="pre">`</span></code></div></blockquote>
<p>### Create a branch for your new feature</p>
<p>Create a <em>branch</em> off the <cite>lenstronomyproject</cite> master branch. Working on unique branches for each new feature simplifies the development, review and merge processes by maintining logical separation. To create a feature branch:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">lenstronomyproject</span>
<span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">&lt;your-branch-name&gt;</span> <span class="pre">lenstronomyproject/master</span>
<span class="pre">`</span></code></div></blockquote>
<p>### Hack away!</p>
<p>Write the new code you would like to contribute and <em>commit</em> it to the feature branch on your local repository. Ideally commit small units of work often with clear and descriptive commit messages describing the changes you made. To commit changes to a file:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">add</span> <span class="pre">file_containing_your_contribution</span>
<span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">'Your</span> <span class="pre">clear</span> <span class="pre">and</span> <span class="pre">descriptive</span> <span class="pre">commit</span> <span class="pre">message'</span>
<span class="pre">`</span></code></div></blockquote>
<p><em>Push</em> the contributions in your feature branch to your remote fork on GitHub:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">&lt;your-branch-name&gt;</span>
<span class="pre">`</span></code></div></blockquote>
<p><strong>Note:</strong> The first time you <em>push</em> a feature branch you will probably need to use <cite>–set-upstream origin</cite> to link to your remote fork:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">push</span> <span class="pre">--set-upstream</span> <span class="pre">origin</span> <span class="pre">&lt;your-branch-name&gt;</span>
<span class="pre">`</span></code></div></blockquote>
<p>### Open a Pull Request</p>
<p>When you feel that work on your new feature is complete, you should create a <em>Pull Request</em>. This will propose your work to be merged into the main lenstronomy repository.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Go to [lenstronomy Pull Requests](<a class="reference external" href="https://github.com/sibirrer/lenstronomy/pulls">https://github.com/sibirrer/lenstronomy/pulls</a>)</li>
<li>Click the green <strong>New pull request</strong> button</li>
<li>Click <strong>compare across forks</strong></li>
<li>Confirm that the base fork is <cite>sibirrer/lenstronomy</cite> and the base branch is <cite>master</cite></li>
<li>Confirm the head fork is <cite>&lt;your-account&gt;/lenstronomy</cite> and the compare branch is <cite>&lt;your-branch-name&gt;</cite></li>
<li>Give your pull request a title and fill out the the template for the description</li>
<li>Click the green <strong>Create pull request</strong> button</li>
</ol>
</div></blockquote>
<p>### Updating your branch</p>
<p>As you work on your feature, new commits might be made to the <cite>sibirrer/lenstronomy</cite> master branch. You will need to update your branch with these new commits before your pull request can be accepted. You can achieve this in a few different ways:</p>
<blockquote>
<div><ul class="simple">
<li>If your pull request has no conflicts, click <strong>Update branch</strong></li>
<li>If your pull request has conflicts, click <strong>Resolve conflicts</strong>, manually resolve the conflicts and click <strong>Mark as resolved</strong></li>
<li><em>merge</em> the <cite>lenstronomyproject</cite> master branch from the command line:
<code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">lenstronomyproject</span>
<span class="pre">git</span> <span class="pre">merge</span> <span class="pre">lenstronomyproject/master</span>
<span class="pre">`</span></code></li>
<li><em>rebase</em> your feature branch onto the <cite>lenstronomy</cite> master branch from the command line:
<code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">lenstronomyproject</span>
<span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">lenstronomyproject/master</span>
<span class="pre">`</span></code></li>
</ul>
</div></blockquote>
<p><strong>Warning</strong>: It is bad practice to <em>rebase</em> commits that have already been pushed to a remote such as your fork. Rebasing creates new copies of your commits that can cause the local and remote branches to diverge. <cite>git push –force</cite> will <strong>overwrite</strong> the remote branch with your newly rebased local branch. This is strongly discouraged, particularly when working on a shared branch where you could erase a collaborators commits.</p>
<dl class="docutils">
<dt>For more information about resolving conflicts see the GitHub guides:</dt>
<dd><ul class="first last simple">
<li>[Resolving a merge conflict on GitHub](<a class="reference external" href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/resolving-a-merge-conflict-on-github">https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/resolving-a-merge-conflict-on-github</a>)</li>
<li>[Resolving a merge conflict using the command line](<a class="reference external" href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/resolving-a-merge-conflict-using-the-command-line">https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/resolving-a-merge-conflict-using-the-command-line</a>)</li>
<li>[About Git rebase](<a class="reference external" href="https://help.github.com/en/github/using-git/about-git-rebase">https://help.github.com/en/github/using-git/about-git-rebase</a>)</li>
</ul>
</dd>
</dl>
<p>### More Information</p>
<p>More information regarding the usage of GitHub can be found in the [GitHub Guides](<a class="reference external" href="https://guides.github.com/">https://guides.github.com/</a>).</p>
</div>
<div class="section" id="coding-guidelines">
<h2>Coding Guidelines<a class="headerlink" href="#coding-guidelines" title="Permalink to this headline">¶</a></h2>
<p>Before your pull request can be merged into the codebase, it will be reviewed by one of the lenstronomy developers and required to pass a number of automated checks. Below are a minimum set of guidelines for developers to follow:</p>
<p>### General Guidelines</p>
<ul class="simple">
<li>lenstronomy is compatible with Python&gt;=3.5 (see [setup.cfg](setup.cfg)). lenstronomy <em>does not</em> support backwards compatibility with Python 2.x; <cite>six</cite>, <cite>__future__</cite> and <cite>2to3</cite> should not be used.</li>
<li>All contributions should follow the [PEP8 Style Guide for Python Code](<a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a>). We recommend using [flake8](<a class="reference external" href="https://flake8.pycqa.org/">https://flake8.pycqa.org/</a>) to check your code for PEP8 compliance.</li>
<li>Importing lenstronomy should only depend on having [NumPy](<a class="reference external" href="https://www.numpy.org">https://www.numpy.org</a>), [SciPy](<a class="reference external" href="https://www.scipy.org/">https://www.scipy.org/</a>) and [Astropy](<a class="reference external" href="https://www.astropy.org/">https://www.astropy.org/</a>) installed.</li>
<li>Code is grouped into submodules e.g. [LensModel](lenstronomy/LensModel), [LightModel](lenstronomy/LightModel) and [ImSim](lenstronomy/ImSim). There is also a [utils](lenstronomy/Utils) submodule for general utility functions.</li>
<li>For more information see the [Astropy Coding Guidelines](<a class="reference external" href="http://docs.astropy.org/en/latest/development/codeguide.html">http://docs.astropy.org/en/latest/development/codeguide.html</a>)</li>
</ul>
<p>### Unit Tests</p>
<p>Pull requests will require existing unit tests to pass before they can be merged. Additionally, new unit tests should be written for all new public methods and functions. Unit tests for each submodule are contained in subdirectories called <cite>tests</cite> and you can run them locally using <cite>python setup.py test</cite>. For more information see the [Astropy Testing Guidelines](<a class="reference external" href="https://docs.astropy.org/en/stable/development/testguide.html">https://docs.astropy.org/en/stable/development/testguide.html</a>).</p>
<p>### Docstrings</p>
<p>All public classes, methods and functions require docstrings. You can build documentation locally by installing [sphinx-astropy](<a class="reference external" href="https://github.com/astropy/sphinx-astropy">https://github.com/astropy/sphinx-astropy</a>) and calling <cite>python setup.py build_docs</cite>. Docstrings should include the following sections:</p>
<blockquote>
<div><ul class="simple">
<li>Description</li>
<li>Parameters</li>
<li>Notes</li>
<li>Examples</li>
<li>References</li>
</ul>
</div></blockquote>
<p>For more information see the Astropy guide to [Writing Documentation](<a class="reference external" href="https://docs.astropy.org/en/stable/development/docguide.html">https://docs.astropy.org/en/stable/development/docguide.html</a>).</p>
<p>This page is inspired by the Contributions guidelines of the [Skypy project](<a class="reference external" href="https://github.com/skypyproject/skypy/blob/master/CONTRIBUTING.md">https://github.com/skypyproject/skypy/blob/master/CONTRIBUTING.md</a>).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Contributing to lenstronomy</a><ul>
<li><a class="reference internal" href="#github-workflow">GitHub Workflow</a></li>
<li><a class="reference internal" href="#coding-guidelines">Coding Guidelines</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lenstronomy.Workflow.html"
                        title="previous chapter">lenstronomy.Workflow package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mailinglist.html"
                        title="next chapter">Mailing list</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/contributing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mailinglist.html" title="Mailing list"
             >next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.Workflow.html" title="lenstronomy.Workflow package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.7.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Simon Birrer and contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.0.
    </div>
  </body>
</html>